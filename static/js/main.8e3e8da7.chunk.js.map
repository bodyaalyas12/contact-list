{"version":3,"sources":["components/Modal.js","components/Contact.js","components/AddNew.js","host.js","components/App.js","index.js"],"names":["Modal","contact","deleteClickHandler","id","className","tabIndex","role","aria-labelledby","aria-hidden","type","data-dismiss","aria-label","name","data","onClick","Contact","props","useState","isEditing","state","setState","editDataFetch","a","fetch","method","headers","body","JSON","stringify","editClickHandler","e","newContact","document","getElementById","value","phone","info","transitions","useTransition","from","opacity","position","enter","leave","map","item","key","div","style","alt","src","imgurl","required","defaultValue","index","placeholder","b","data-target","data-toggle","AddNew","addClickHandler","show","setShow","animatedProps","config","duration","height","size","accept","App","externalData","addNew","console","log","host","img","fd","FormData","append","files","$","ajax","url","contentType","cache","processData","success","objToSend","then","getDataFetch","alert","refreshedCntcs","target","getAttribute","el","deleteDataFetch","targetUrl","response","json","sort","reverse","useEffect","element","render"],"mappings":"6QA2BeA,G,MAzBD,SAAC,GAAkC,IAAjCC,EAAgC,EAAhCA,QAAQC,EAAwB,EAAxBA,mBAChBC,EAAK,eAAeF,EAAQE,GAClC,OACC,yBAAKC,UAAU,aAAaD,GAAIA,EAAIE,SAAS,KAAKC,KAAK,SAASC,kBAAgB,oBAAoBC,cAAY,QAC9G,yBAAKJ,UAAU,eAAeE,KAAK,YACjC,yBAAKF,UAAU,iBACb,yBAAKA,UAAU,gBACb,wBAAIA,UAAU,cAAcD,GAAG,qBAA/B,uBACA,4BAAQM,KAAK,SAASL,UAAU,QAAQM,eAAa,QAAQC,aAAW,SACtE,0BAAMH,cAAY,QAAlB,UAGJ,yBAAKJ,UAAU,cAAf,+BAC8B,2BAAIH,EAAQW,MAD1C,uBAGA,yBAAKR,UAAU,gBACb,4BAAQK,KAAK,SAASL,UAAU,oBAAoBM,eAAa,SAAjE,YACA,4BAAQD,KAAK,SAASI,KAAMZ,EAAQE,GAAIW,QAASZ,EAAoBQ,eAAa,QAAQN,UAAU,kBAApG,oB,gkBCZX,IAmIeW,EAnIC,SAAC,GAAsC,IAApCb,EAAmC,EAAnCA,mBAAuBc,EAAY,wCAC3BC,mBAAS,CAClCC,WAAW,EACXjB,QAASe,EAAMf,UAHqC,mBAC9CkB,EAD8C,KACvCC,EADuC,KAK/CC,EAAa,uCAAG,WAAMpB,GAAN,SAAAqB,EAAA,sDAErBC,MAAM,+CAAgD,CACrDC,OAAQ,OACRC,QAAS,CAAE,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAU3B,KALD,2CAAH,sDAQb4B,EAAmB,SAAAC,GACxB,GAAIX,EAAMD,UAAW,CACpB,IAAMa,EAAU,KAAQZ,EAAMlB,SAC9B8B,EAAWnB,KAAOoB,SAASC,eAAe,aAAejB,EAAMf,QAAQE,IAAI+B,MAC3EH,EAAWI,MAAQH,SAASC,eAAe,cAAgBjB,EAAMf,QAAQE,IAAI+B,MAC7EH,EAAWK,KAAOJ,SAASC,eAAe,aAAejB,EAAMf,QAAQE,IAAI+B,MACnD,KAApBH,EAAWnB,MAAoC,KAArBmB,EAAWI,QACxCf,EAAS,EAAD,GACJD,EADI,CAEPlB,QAAS8B,EACTb,WAAYC,EAAMD,aAEnBG,EAAcU,SAGfX,EAAS,EAAD,GACJD,EADI,CAEPD,WAAYC,EAAMD,cAIfmB,EAAcC,YAAcnB,EAAMD,UAAW,KAAM,CACxDqB,KAAM,CACLC,QAAS,EACTC,SAAU,YAEXC,MAAO,CACNF,QAAS,EACTC,SAAU,YAEXE,MAAO,CACNF,SAAU,WACVD,QAAS,KAGHvC,EAAYkB,EAAZlB,QACR,OAAOoC,EAAYO,KAAI,gBAAGC,EAAH,EAAGA,KAAMC,EAAT,EAASA,IAAK9B,EAAd,EAAcA,MAAd,OACtB,yBAAK8B,IAAKA,EAAK1C,UAAU,2CACtByC,EAiCD,kBAAC,IAASE,IAAV,CACCC,MAAOhC,EACPZ,UAAU,yHAEV,yBAAKA,UAAU,6CACd,yBAAKA,UAAU,iBACd,yBAAK6C,IAAI,iBAAiBC,IAAG,kBAAajD,EAAQkD,WAEnD,yBAAK/C,UAAU,0CACd,yBAAKA,UAAU,uBACd,yBAAKA,UAAU,oBACd,2BACCK,KAAK,OACLN,GAAI,aAAeF,EAAQE,GAC3BiD,UAAQ,EACRC,aAAcpD,EAAQW,QAGxB,yBAAKR,UAAU,qBACd,2BACCK,KAAK,OACLN,GAAI,cAAgBF,EAAQE,GAC5BiD,UAAQ,EACRC,aAAcpD,EAAQkC,WAK1B,yBAAK/B,UAAU,iEACd,4BAAQA,UAAU,uBAAuBkD,MAAO,EAAGxC,QAASe,GAA5D,UAKF,yBAAKzB,UAAU,qEACd,8BACCK,KAAK,OACLN,GAAI,aAAeF,EAAQE,GAC3BoD,YAAY,OACZF,aAAcpD,EAAQmC,SAvEzB,kBAAC,IAASW,IAAV,CACCC,MAAOhC,EACPZ,UAAU,0HAEV,yBAAKA,UAAU,sDACd,yBAAKA,UAAU,iBACd,yBAAK6C,IAAI,iBAAiBC,IAAG,kBAAajD,EAAQkD,WAEnD,yBAAK/C,UAAU,0CACd,yBAAKA,UAAU,uBACd,yBAAKA,UAAU,oBAAoBH,EAAQW,MAC3C,yBAAKR,UAAU,qBAAqBH,EAAQkC,SAG9C,yBAAK/B,UAAU,iEACd,4BAAQA,UAAU,oBAAoBU,QAAS,SAAA0C,GAAC,OAAI3B,MAApD,QAGA,4BACC4B,cAAa,gBAAkBxD,EAAQE,GACvCuD,cAAY,QACZtD,UAAU,iBACVK,KAAK,UAJN,UAQA,kBAAC,EAAD,CAAOP,mBAAoBA,EAAoBD,QAASA,MAG1D,yBAAKG,UAAU,4BAA4BH,EAAQmC,YCIzCuB,EAzFA,SAAC,GAAyB,IAAvBC,EAAsB,EAAtBA,gBAAsB,EACf3C,oBAAS,GADM,mBAChC4C,EADgC,KAC1BC,EAD0B,KAEjCC,EAAgBzB,YAAcuB,EAAM,KAAM,CAC/CG,OAAQ,CAAEC,SAAU,KACpB1B,KAAM,CACL2B,OAAQ,EACR1B,QAAS,GAEVE,MAAO,CACNwB,OAAQ,IACR1B,QAAS,GAEVG,MAAO,CACNuB,OAAQ,EACR1B,QAAS,KAQX,OACC,yBAAKrC,GAAG,aAAaC,UAAU,sBAC9B,yBAAKA,UAAU,gCACd,4BAAQA,UAAU,kBAAkBU,QARjB,WACrBgD,GAAQ,SAAAD,GAAI,OAAKA,OAOf,kBACiB,MAGjBE,EAAcnB,KACd,gBAAGC,EAAH,EAAGA,KAAMC,EAAT,EAASA,IAAK9B,EAAd,EAAcA,MAAd,OACC6B,GACC,kBAAC,IAASE,IAAV,CACCC,MAAOhC,EACP8B,IAAKA,EACL1C,UAAU,6EAEV,yBAAKA,UAAW,wCACf,2BAAOA,UAAW,QAAlB,OACK,0BAAMA,UAAW,eAAjB,UAEL,2BACCK,KAAK,OACLN,GAAG,WACHC,UAAW,eACXgD,UAAQ,EACRG,YAAY,cAId,yBAAKnD,UAAW,wCACf,2BAAOA,UAAW,QAAlB,QACM,0BAAMA,UAAW,eAAjB,UAEN,2BACCK,KAAK,OACLN,GAAG,YACHC,UAAW,eACXgD,UAAQ,EACRG,YAAY,qBAGd,yBAAKnD,UAAW,wCACf,8BACCK,KAAK,OACLN,GAAG,WACHC,UAAW,eACX+D,KAAK,KACLZ,YAAY,4BAGd,yBAAKnD,UAAW,wCACf,2BACCK,KAAK,OACLN,GAAG,UACHC,UAAW,GACXgE,OAAO,UACPb,YAAY,WAGd,4BAAQnD,UAAU,kBAAkBU,QAAS8C,GAA7C,qB,gBCnFQ,8C,yjBCUf,IAgHeS,EAhHH,SAAArD,GAAU,IAAD,EACMC,mBAAS,CAClCqD,aAAc,KACdC,QAAQ,IAHW,mBACbpD,EADa,KACNC,EADM,KAKpBoD,QAAQC,IAAIC,GACZ,IAAMd,EAAe,uCAAG,sCAAAtC,EAAA,sDACnBV,EAAOoB,SAASC,eAAe,YAAYC,MAC3CC,EAAQH,SAASC,eAAe,aAAaC,MAC7CE,EAAOJ,SAASC,eAAe,YAAYC,MAC3CyC,EAAM3C,SAASC,eAAe,WAC9BrB,GAAQuB,GACPwC,KACGC,EAAK,IAAIC,UACZC,OAAO,MAAOH,EAAII,MAAM,IAC3BC,IAAEC,KAAK,CACNC,IAAI,GAAD,OAAKR,EAAL,iBACHlD,OAAQ,OACRX,KAAM+D,EACNO,aAAa,EACbC,OAAO,EACPC,aAAa,EACbC,QAAS,WACRd,QAAQC,IAAI,oBAKTc,EAAY,CACjB3E,KAAMA,EACNuB,MAAOA,EACPC,KAAMA,EACNe,OAAQwB,EAAII,MAAM,GAAKJ,EAAII,MAAM,GAAGnE,KAAO,IAG5CW,MAAM,GAAD,OAAImD,EAAJ,YAAoB,CACxBlD,OAAQ,OACRC,QAAS,CAAE,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAU2D,KAErBC,MAAK,WACLxD,SAASC,eAAe,YAAYC,MAAQ,GAC5CF,SAASC,eAAe,aAAaC,MAAQ,GAC7CF,SAASC,eAAe,YAAYC,MAAQ,GAC5CF,SAASC,eAAe,WAAWC,MAAQ,QAE3CsD,MAAK,kBAAIC,QAKVC,MAAM,+BA7CgB,2CAAH,qDAgDfxF,EAAqB,SAAA4B,GAC1B,IAAM6D,EAAc,YAAOxE,EAAMmD,cAC3BnE,EAAK2B,EAAE8D,OAAOC,aAAa,QACjC,IAAK,IAAIC,KAAMH,EACVA,EAAeG,GAAI3F,KAAOA,IAAIwF,EAAeG,GAAIlF,KAAO,IAE7DQ,GAAS,SAAAD,GAAK,YACVA,EADU,CAEbmD,aAAcqB,OAEfI,EAAgB5F,IAGX4F,EAAe,uCAAG,WAAM5F,GAAN,SAAAmB,EAAA,sDACvBC,MAAM,GAAD,OAAImD,EAAJ,eAAuB,CAC3BlD,OAAQ,OACRC,QAAS,CAAE,eAAgB,oBAC3BC,KAAMvB,IAJgB,2CAAH,sDAQfsF,EAAY,uCAAG,4BAAAnE,EAAA,sDACpBkD,QAAQC,IAAI,YACNuB,EAFc,UAECtB,EAFD,aAGpBnD,MAAMyE,EAAW,CAChBxE,OAAQ,QAEPgE,MAAK,SAAAS,GAAQ,OAAIA,EAASC,UAC1BV,MAAK,SAAAS,GACL7E,GAAS,SAAAD,GAAK,YACVA,EADU,CAEbmD,aAAc2B,EAASE,MAAK,SAAC7E,EAAGkC,GAAJ,OAAUlC,EAAEnB,GAAKqD,EAAErD,MAAIiG,kBAVlC,2CAAH,qDAkBlB,OAJAC,qBAAU,WACTZ,MACE,IAGF,6BACC,yBAAKrF,UAAU,cACd,kBAAC,EAAD,CAAQwD,gBAAiBA,KAE1B,wBAAIxD,UAAU,uEACZe,EAAMmD,cACNnD,EAAMmD,aAAa1B,KAClB,SAAA0D,GAAO,OACNA,EAAQ1F,MACP,wBAAIkC,IAAKwD,EAAQnG,IAChB,kBAAC,EAAD,CAASD,mBAAoBA,EAAoBD,QAASqG,IAAY,WC9G/EC,iBAAQ,kBAAC,EAAD,MAAQvE,SAASC,eAAe,W","file":"static/js/main.8e3e8da7.chunk.js","sourcesContent":["import React from 'react'\n\nconst Modal = ({contact,deleteClickHandler}) => {\n\t\tconst id = \"exampleModal\"+contact.id\t\t\n\t\treturn(\n\t\t\t<div className=\"modal fade\" id={id} tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\n\t\t\t  <div className=\"modal-dialog\" role=\"document\">\n\t\t\t    <div className=\"modal-content\">\n\t\t\t      <div className=\"modal-header\">\n\t\t\t        <h5 className=\"modal-title\" id=\"exampleModalLabel\">Delete confirmation</h5>\n\t\t\t        <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n\t\t\t          <span aria-hidden=\"true\">&times;</span>\n\t\t\t        </button>\n\t\t\t      </div>\n\t\t\t      <div className=\"modal-body\">\n\t\t\t        Are you sure want to delete <b>{contact.name}</b> from contact list?\n\t\t\t      </div>\n\t\t\t      <div className=\"modal-footer\">\n\t\t\t        <button type=\"button\" className=\"btn btn-secondary\" data-dismiss=\"modal\">No,close</button>\n\t\t\t        <button type=\"button\" data={contact.id} onClick={deleteClickHandler} data-dismiss=\"modal\" className=\"btn btn-danger\">Yes,delete</button>\n\t\t\t      </div>\n\t\t\t    </div>\n\t\t\t  </div>\n\t\t\t</div>\n\t\t\t)\n\n}\nexport default Modal","import React, { useState } from 'react'\nimport 'bootstrap/dist/css/bootstrap.css'\nimport 'bootstrap/dist/js/bootstrap.js'\nimport './scss/style.scss'\nimport Modal from './Modal'\nimport { useSpring, useTransition, animated } from 'react-spring'\n\nconst Contact = ({ deleteClickHandler, ...props }) => {\n\tconst [state, setState] = useState({\n\t\tisEditing: false,\n\t\tcontact: props.contact\n\t})\n\tconst editDataFetch = async contact => {\n\t\t\n\t\tfetch(`http://testtask123123.dx.am/src/api/edit.php`, {\n\t\t\tmethod: 'POST',\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t\tbody: JSON.stringify(contact)\n\t\t})\n\t}\n\tconst editClickHandler = e => {\n\t\tif (state.isEditing) {\n\t\t\tconst newContact = { ...state.contact }\n\t\t\tnewContact.name = document.getElementById('name-input' + props.contact.id).value\n\t\t\tnewContact.phone = document.getElementById('phone-input' + props.contact.id).value\n\t\t\tnewContact.info = document.getElementById('info-input' + props.contact.id).value\n\t\t\tif (newContact.name !== '' && newContact.phone !== '') {\n\t\t\t\tsetState({\n\t\t\t\t\t...state,\n\t\t\t\t\tcontact: newContact,\n\t\t\t\t\tisEditing: !state.isEditing\n\t\t\t\t})\n\t\t\t\teditDataFetch(newContact)\n\t\t\t}\n\t\t} else {\n\t\t\tsetState({\n\t\t\t\t...state,\n\t\t\t\tisEditing: !state.isEditing\n\t\t\t})\n\t\t}\n\t}\n\tconst transitions = useTransition(state.isEditing, null, {\n\t\tfrom: {\n\t\t\topacity: 0,\n\t\t\tposition: 'absolute'\n\t\t},\n\t\tenter: {\n\t\t\topacity: 1,\n\t\t\tposition: 'relative'\n\t\t},\n\t\tleave: {\n\t\t\tposition: 'absolute',\n\t\t\topacity: 0\n\t\t}\n\t})\n\tconst { contact } = state\n\treturn transitions.map(({ item, key, props }) => (\n\t\t<div key={key} className=\" mr-4 contact-wrapper position-relative\">\n\t\t\t{!item ? (\n\t\t\t\t<animated.div\n\t\t\t\t\tstyle={props}\n\t\t\t\t\tclassName=\"pt-2 px-4 my-3 mr-5 contact-wrapper  d-flex flex-column justify-content-center align-items-between main-wrapper  w-100\"\n\t\t\t\t>\n\t\t\t\t\t<div className=\"d-flex flex-row flex-wrap justify-content-between \">\n\t\t\t\t\t\t<div className=\"image-wrapper\">\n\t\t\t\t\t\t\t<img alt=\"contact avatar\" src={`/images/${contact.imgurl}`} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"contactInfo  d-flex align-items-center\">\n\t\t\t\t\t\t\t<div className=\"d-flex  flex-column\">\n\t\t\t\t\t\t\t\t<div className=\"text-center name\">{contact.name}</div>\n\t\t\t\t\t\t\t\t<div className=\"text-center phone\">{contact.phone}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"actions d-flex pr-3 align-items-center justify-content-center\">\n\t\t\t\t\t\t\t<button className=\"mr-3 btn btn-info\" onClick={b => editClickHandler(b)}>\n\t\t\t\t\t\t\t\tEdit\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tdata-target={'#exampleModal' + contact.id}\n\t\t\t\t\t\t\t\tdata-toggle=\"modal\"\n\t\t\t\t\t\t\t\tclassName=\"btn btn-danger\"\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tDelete\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<Modal deleteClickHandler={deleteClickHandler} contact={contact} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"additionalInfo pt-3 pb-4\">{contact.info}</div>\n\t\t\t\t</animated.div>\n\t\t\t) : (\n\t\t\t\t<animated.div\n\t\t\t\t\tstyle={props}\n\t\t\t\t\tclassName=\" pt-2 px-4 my-3 mr-5 d-flex flex-column contact-wrapper justify-content-center align-items-between main-wrapper w-100\"\n\t\t\t\t>\n\t\t\t\t\t<div className=\"d-flex flex-row  justify-content-between \">\n\t\t\t\t\t\t<div className=\"image-wrapper\">\n\t\t\t\t\t\t\t<img alt=\"contact avatar\" src={`/images/${contact.imgurl}`} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"contactInfo  d-flex align-items-center\">\n\t\t\t\t\t\t\t<div className=\"d-flex  flex-column\">\n\t\t\t\t\t\t\t\t<div className=\"text-center name\">\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\tid={'name-input' + contact.id}\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\tdefaultValue={contact.name}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"text-center phone\">\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\tid={'phone-input' + contact.id}\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\tdefaultValue={contact.phone}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"actions d-flex pr-3 align-items-center justify-content-center\">\n\t\t\t\t\t\t\t<button className=\"mr-3 btn btn-success\" index={1} onClick={editClickHandler}>\n\t\t\t\t\t\t\t\tSave\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"additionalInfo d-flex  justify-content-center align-items-between\">\n\t\t\t\t\t\t<textarea\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tid={'info-input' + contact.id}\n\t\t\t\t\t\t\tplaceholder=\"Info\"\n\t\t\t\t\t\t\tdefaultValue={contact.info}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</animated.div>\n\t\t\t)}\n\t\t</div>\n\t))\n}\nexport default Contact\n","import React, { useState } from 'react'\nimport { useSpring, useTransition, animated } from 'react-spring'\n\nconst AddNew = ({ addClickHandler }) => {\n\tconst [show, setShow] = useState(false)\n\tconst animatedProps = useTransition(show, null, {\n\t\tconfig: { duration: 500 },\n\t\tfrom: {\n\t\t\theight: 0,\n\t\t\topacity: 0\n\t\t},\n\t\tenter: {\n\t\t\theight: 300,\n\t\t\topacity: 1\n\t\t},\n\t\tleave: {\n\t\t\theight: 0,\n\t\t\topacity: 0\n\t\t}\n\t})\n\tconst addNewToggler = () => {\n\t\tsetShow(show => !show)\n\t\t// console.log(show)\n\t}\n\n\treturn (\n\t\t<div id=\"header-add\" className=\"d-flex flex-column\">\n\t\t\t<div className=\"d-flex justify-content-start\">\n\t\t\t\t<button className=\"btn btn-primary\" onClick={addNewToggler}>\n\t\t\t\t\tAdd new contact{' '}\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t\t{animatedProps.map(\n\t\t\t\t({ item, key, props }) =>\n\t\t\t\t\titem && (\n\t\t\t\t\t\t<animated.div\n\t\t\t\t\t\t\tstyle={props}\n\t\t\t\t\t\t\tkey={key}\n\t\t\t\t\t\t\tclassName=\"d-flex flex-column head-wrapper justify-content-center align-items-center\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div className={'form-group d-flex align-items-center'}>\n\t\t\t\t\t\t\t\t<label className={'pr-3'}>\n\t\t\t\t\t\t\t\t\tName<span className={'text-danger'}>&nbsp;*</span>\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tid=\"add-name\"\n\t\t\t\t\t\t\t\t\tclassName={'form-control'}\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\tplaceholder=\"John Doe\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div className={'form-group d-flex align-items-center'}>\n\t\t\t\t\t\t\t\t<label className={'pr-3'}>\n\t\t\t\t\t\t\t\t\tPhone<span className={'text-danger'}>&nbsp;*</span>\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tid=\"add-phone\"\n\t\t\t\t\t\t\t\t\tclassName={'form-control'}\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\tplaceholder=\"8-800-555-35-35\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className={'form-group d-flex align-items-center'}>\n\t\t\t\t\t\t\t\t<textarea\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tid=\"add-info\"\n\t\t\t\t\t\t\t\t\tclassName={'form-control'}\n\t\t\t\t\t\t\t\t\tsize=\"40\"\n\t\t\t\t\t\t\t\t\tplaceholder=\"Additional information\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className={'form-group d-flex align-items-center'}>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype=\"file\"\n\t\t\t\t\t\t\t\t\tid=\"add-img\"\n\t\t\t\t\t\t\t\t\tclassName={''}\n\t\t\t\t\t\t\t\t\taccept=\"image/*\"\n\t\t\t\t\t\t\t\t\tplaceholder=\"image\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<button className=\"btn btn-success\" onClick={addClickHandler}>\n\t\t\t\t\t\t\t\tAdd contact\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</animated.div>\n\t\t\t\t\t)\n\t\t\t)}\n\t\t</div>\n\t)\n}\nexport default AddNew\n","export default 'https://contact-list-api12.herokuapp.com/'","import React, { useState, useEffect } from 'react'\nimport 'bootstrap/dist/css/bootstrap.css'\nimport './scss/style.scss'\nimport Contact from './Contact'\nimport AddNew from './AddNew'\nimport $ from 'jquery'\nimport host from '../host'\n\n\n\nconst App = props => {\n\tconst [state, setState] = useState({\n\t\texternalData: null,\n\t\taddNew: false\n\t})\n\tconsole.log(host)\n\tconst addClickHandler = async () => {\n\t\tlet name = document.getElementById('add-name').value\n\t\tlet phone = document.getElementById('add-phone').value\n\t\tlet info = document.getElementById('add-info').value\n\t\tlet img = document.getElementById('add-img')\n\t\tif (name && phone) {\n\t\t\tif (img) {\n\t\t\t\tconst fd = new FormData()\n\t\t\t\tfd.append('img', img.files[0])\n\t\t\t\t$.ajax({\n\t\t\t\t\turl: `${host}/uploader.php`,\n\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\tdata: fd,\n\t\t\t\t\tcontentType: false,\n\t\t\t\t\tcache: false,\n\t\t\t\t\tprocessData: false,\n\t\t\t\t\tsuccess: () => {\n\t\t\t\t\t\tconsole.log('successfully')\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\n\t\t\tconst objToSend = {\n\t\t\t\tname: name,\n\t\t\t\tphone: phone,\n\t\t\t\tinfo: info,\n\t\t\t\timgurl: img.files[0] ? img.files[0].name : ''\n\t\t\t}\n\n\t\t\tfetch(`${host}/add.php`, {\n\t\t\t\tmethod: 'POST',\n\t\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t\t\tbody: JSON.stringify(objToSend)\n\t\t\t})\n\t\t\t.then(()=>{\n\t\t\t\tdocument.getElementById('add-name').value = ''\n\t\t\t\tdocument.getElementById('add-phone').value = ''\n\t\t\t\tdocument.getElementById('add-info').value = ''\n\t\t\t\tdocument.getElementById('add-img').value = null //clear inputs after sending request\n\t\t\t})\n\t\t\t.then(()=>getDataFetch())\n\n\t\t\t\n\t\t\t\n\t\t} else {\n\t\t\talert('Name and phone are required')\n\t\t}\n\t}\n\tconst deleteClickHandler = e => {\n\t\tconst refreshedCntcs = [...state.externalData]\n\t\tconst id = e.target.getAttribute('data')\n\t\tfor (let el in refreshedCntcs) {\n\t\t\tif (refreshedCntcs[el].id === id) refreshedCntcs[el].name = ''\n\t\t}\n\t\tsetState(state => ({\n\t\t\t...state,\n\t\t\texternalData: refreshedCntcs\n\t\t}))\n\t\tdeleteDataFetch(id)\n\t}\n\n\tconst deleteDataFetch = async id => {\n\t\tfetch(`${host}/delete.php`, {\n\t\t\tmethod: 'POST',\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t\tbody: id\n\t\t})\n\t}\n\n\tconst getDataFetch = async () => {\n\t\tconsole.log('fetching')\n\t\tconst targetUrl = `${host}/demo.php`\n\t\tfetch(targetUrl, {\n\t\t\tmethod: 'GET'\n\t\t})\n\t\t\t.then(response => response.json())\n\t\t\t.then(response => {\n\t\t\t\tsetState(state => ({\n\t\t\t\t\t...state,\n\t\t\t\t\texternalData: response.sort((a, b) => a.id - b.id).reverse()\n\t\t\t\t}))\n\t\t\t})\n\t}\n\tuseEffect(() => {\n\t\tgetDataFetch()\n\t}, [])\n\n\treturn (\n\t\t<div>\n\t\t\t<div className=\"jumbotron \">\n\t\t\t\t<AddNew addClickHandler={addClickHandler} />\n\t\t\t</div>\n\t\t\t<ul className=\"d-flex flex-row align-items-center justify-content-center flex-wrap\">\n\t\t\t\t{state.externalData &&\n\t\t\t\t\tstate.externalData.map(\n\t\t\t\t\t\telement =>\n\t\t\t\t\t\t\telement.name && (\n\t\t\t\t\t\t\t\t<li key={element.id}>\n\t\t\t\t\t\t\t\t\t<Contact deleteClickHandler={deleteClickHandler} contact={element} />{' '}\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t)}\n\t\t\t</ul>\n\t\t</div>\n\t)\n}\nexport default App\n","import React from 'react'\nimport {render} from 'react-dom'\nimport App from './components/App'\n\nrender (<App/>, document.getElementById('root'));\n"],"sourceRoot":""}