(this.webpackJsonpcontactlist=this.webpackJsonpcontactlist||[]).push([[0],{18:function(e,t,a){},22:function(e,t,a){e.exports=a(36)},36:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),l=a(9),o=a(3),r=a(10),i=(a(16),"https://contact-list-api-node.herokuapp.com"),s=a(4),m=a(7),d=a(5),u=a(6),f=function(){return function(e){fetch("".concat(i,"/contacts/getList"),{method:"GET"}).then((function(e){return e.json()})).then((function(t){e({type:"SET_CONTACTS",payload:t.contacts.reverse()})}))}},p={name:"",phone:"",info:"",image:"",imgPreview:""},b=Object(d.b)((function(e,t){return Object(o.a)({},t,{contacts:e.contacts})}),(function(e){return{setContacts:function(){return e(f())}}}))((function(e){var t=e.setContacts,a=Object(n.useState)(!1),l=Object(m.a)(a,2),r=l[0],d=l[1],f=Object(n.useState)(p),b=Object(m.a)(f,2),E=b[0],g=b[1],v=Object(n.useState)(""),h=Object(m.a)(v,2),N=h[0],y=h[1],x=Object(u.b)(r,null,{config:{duration:500},from:{height:0,opacity:0},enter:{height:350,opacity:1},leave:{height:0,opacity:0}}),j=function(e){var t=e.target,a=t.name,n=t.value;g(Object(o.a)({},E,Object(s.a)({},a,n)))},O=function(){var e=new FormData(E);e.append("image",E.image),e.append("form",JSON.stringify(E)),fetch("".concat(i,"/contacts/create"),{body:e,method:"POST"}).then((function(e){return e.json()})).then((function(){g(p),document.querySelector("#image_input").value=null,y(""),t()}))},C=function(e){var t=e.target,a=new FileReader;a.onloadend=function(e){y(a.result)},a.readAsDataURL(t.files[0]),g(Object(o.a)({},E,{image:t.files[0]}))};return c.a.createElement("div",{id:"header-add",className:"d-flex flex-column"},c.a.createElement("div",{className:"d-flex justify-content-start"},c.a.createElement("button",{className:"btn btn-primary",onClick:function(){d((function(e){return!e}))}},"Add new contact"," ")),x.map((function(e){var t=e.item,a=e.key,n=e.props;return t&&c.a.createElement(u.a.div,{style:n,key:a,className:"d-flex flex-column head-wrapper justify-content-center align-items-center"},c.a.createElement("div",{className:"form-group d-flex align-items-center"},c.a.createElement("label",{className:"pr-3"},"Name",c.a.createElement("span",{className:"text-danger"},"\xa0*")),c.a.createElement("input",{type:"text",className:"form-control",value:E.name,name:"name",onChange:j,placeholder:"John Doe"})),c.a.createElement("div",{className:"form-group d-flex align-items-center"},c.a.createElement("label",{className:"pr-3"},"Phone",c.a.createElement("span",{className:"text-danger"},"\xa0*")),c.a.createElement("input",{type:"text",className:"form-control",required:!0,value:E.phone,name:"phone",onChange:j,placeholder:"8-800-555-35-35"})),c.a.createElement("div",{className:"form-group d-flex align-items-center"},c.a.createElement("textarea",{type:"text",className:"form-control",size:"40",value:E.info,name:"info",onChange:j,placeholder:"Additional information"})),c.a.createElement("div",{className:"form-group d-flex align-items-center"},N&&c.a.createElement("img",{id:"previewImage",src:N}),c.a.createElement("label",{className:"btn btn-primary ml-3",htmlFor:"image_input"},"Choose the image"),c.a.createElement("input",{type:"file",className:"",id:"image_input",accept:"image/*",placeholder:"image",onChange:C})),c.a.createElement("button",{className:"btn btn-success",onClick:O},"Add contact"))})))})),E=a(14),g=a.n(E),v=a(20),h=(a(33),function(e){var t=e.contact,a=e.deleteClickHandler;console.log(t.name);var n="exampleModal"+t._id;return c.a.createElement("div",{className:"modal fade",id:n,tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},c.a.createElement("div",{className:"modal-dialog",role:"document"},c.a.createElement("div",{className:"modal-content"},c.a.createElement("div",{className:"modal-header"},c.a.createElement("h5",{className:"modal-title",id:"exampleModalLabel"},"Delete confirmation"),c.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},c.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),c.a.createElement("div",{className:"modal-body"},"Are you sure want to delete ",c.a.createElement("b",null,t.name)," from contact list?"),c.a.createElement("div",{className:"modal-footer"},c.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal"},"No,close"),c.a.createElement("button",{type:"button",onClick:function(e){return a(t._id)},"data-dismiss":"modal",className:"btn btn-danger"},"Yes,delete")))))}),N=(a(18),Object(d.b)((function(e,t){return Object(o.a)({},t,{contacts:e.contacts})}),(function(e){return{setContacts:function(){return e(f())}}}))((function(e){var t=e.deleteClickHandler,a=Object(r.a)(e,["deleteClickHandler"]),l=Object(n.useState)({isEditing:!1,contact:a.contact||{}}),d=Object(m.a)(l,2),f=d[0],p=d[1],b=function(){var e=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fetch("".concat(i,"/contacts/update/").concat(t._id),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){return console.log(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(e,t){f.isEditing?t.name&&t.phone&&(p(Object(o.a)({},f,{isEditing:!f.isEditing})),b(t)):p(Object(o.a)({},f,{isEditing:!f.isEditing}))},N=function(e){var t=e.target,a=t.name,n=t.value;p(Object(o.a)({},f,{contact:Object(o.a)({},x,Object(s.a)({},a,n))}))},y=Object(u.b)(f.isEditing,null,{from:{opacity:0,position:"absolute"},enter:{opacity:1,position:"relative"},leave:{position:"absolute",opacity:0}}),x=f.contact;return y.map((function(e){var a=e.item,n=e.key,l=e.props;return c.a.createElement("div",{key:n,className:"contact-wrapper position-relative"},a?c.a.createElement(u.a.div,{style:l,className:" pt-2 px-4 my-3 mr-5 d-flex flex-column  justify-content-center align-items-between main-wrapper w-100"},c.a.createElement("div",{className:"d-flex flex-row  justify-content-between "},c.a.createElement("div",{className:"image-wrapper"},c.a.createElement("img",{alt:"contact avatar",src:"".concat(i,"/").concat(x.image)})),c.a.createElement("div",{className:"contactInfo  d-flex align-items-center"},c.a.createElement("div",{className:"d-flex  flex-column"},c.a.createElement("div",{className:"text-center name"},c.a.createElement("input",{type:"text",id:"name-input"+x.id,name:"name",className:"form-control",onChange:N,value:x.name})),c.a.createElement("div",{className:"text-center phone"},c.a.createElement("input",{type:"text",className:"form-control",onChange:N,name:"phone",defaultValue:x.phone})))),c.a.createElement("div",{className:"actions d-flex pr-3 align-items-center justify-content-center"},c.a.createElement("button",{className:"mr-3 btn btn-success",onClick:function(e){return E(0,x)}},"Save"))),c.a.createElement("div",{className:"additionalInfo d-flex  justify-content-center align-items-between"},c.a.createElement("textarea",{type:"text",placeholder:"Info",name:"info",className:"form-control",onChange:N,value:x.info}))):c.a.createElement(u.a.div,{style:l,className:"pt-2 px-4 my-3 mr-5  d-flex flex-column justify-content-center align-items-between main-wrapper  w-100"},c.a.createElement("div",{className:"d-flex flex-row flex-wrap justify-content-between "},c.a.createElement("div",{className:"image-wrapper"},c.a.createElement("img",{alt:"contact avatar",src:"".concat(i,"/").concat(x.image)})),c.a.createElement("div",{className:"contactInfo  d-flex align-items-center"},c.a.createElement("div",{className:"d-flex  flex-column"},c.a.createElement("div",{className:"text-center name"},x.name),c.a.createElement("div",{className:"text-center phone"},x.phone))),c.a.createElement("div",{className:"actions d-flex pr-3 align-items-center justify-content-center"},c.a.createElement("button",{className:"mr-3 btn btn-info",onClick:E},"Edit"),c.a.createElement("button",{"data-target":"#exampleModal"+x._id,"data-toggle":"modal",className:"btn btn-danger",type:"button"},"Delete"),c.a.createElement(h,{deleteClickHandler:t,contact:x}))),c.a.createElement("div",{className:"additionalInfo pt-3 pb-4"},x.info)))}))}))),y=Object(d.b)((function(e,t){return Object(o.a)({},t,{contacts:e.contacts})}),(function(e){return{setContacts:function(){return e(f())}}}))((function(e){var t=e.contacts,a=e.setContacts,l=(Object(r.a)(e,["contacts","setContacts"]),function(e){fetch("".concat(i,"/contacts/delete/").concat(e),{method:"DELETE",body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){console.log(e),a()}))});return Object(n.useEffect)((function(){a()}),[]),c.a.createElement("div",null,c.a.createElement("div",{className:"jumbotron "},c.a.createElement("div",{className:"container"},c.a.createElement(b,null)," ")),c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"row"},t.map((function(e){return e.name&&c.a.createElement("div",{className:"col-12 col-lg-6 "},c.a.createElement(N,{key:e._id,deleteClickHandler:l,contact:e}))})))))})),x=a(8),j={contacts:[]},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CONTACTS":return Object(o.a)({},e,{contacts:t.payload});default:return e}},C=a(21),w=Object(x.c)(O,Object(x.a)(C.a));Object(l.render)(c.a.createElement(d.a,{store:w},c.a.createElement(y,null)),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.cb1d4e31.chunk.js.map